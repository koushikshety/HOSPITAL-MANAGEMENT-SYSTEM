{% extends 'base.html' %}
{%load static%}
{% block content %}
<!-- Breadcrumb -->
				<!-- Page Title -->
				<div class="container mt-0">
					<div class="row breadcrumb-bar">
						<div class="col-md-6">
							<h3 class="block-title">Doctor Details</h3>
						</div>
						<div class="col-md-6">
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="/">
										<span class="ti-home"></span>
									</a>
								</li>
								<li class="breadcrumb-item">Doctors</li>
								<li class="breadcrumb-item active">Doctor Details</li>
							</ol>
						</div>
					</div>
				</div>
			<!-- /Page Title -->

			<!-- /Breadcrumb -->
			<!-- Main Content -->
            {% for doctor_detail in doctor_detail %}
            {% if user.username == doctor_detail.d_add %}

			<div class="container">

                <div class="row">
                    <!-- Widget Item -->
                    <div class="col-md-12">
                        <div class="widget-area-2 proclinic-box-shadow">
                            <h3 class="widget-title">Doctor Details</h3>
                            <div class="row no-mp">
                                <div class="col-md-4">
                                    <div class="card mb-4">
                                        <img class="card-img-top" src="{% static 'images/doctor.jpg' %}" alt="Card image">
                                        <div class="card-body">
                                            <h4 class="card-title">{{ doctor_detail.doctor_Name }}</h4>
                                            <p class="card-text">write something about doctor</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                                <tr>
                                                    <td><strong>Doctor id</strong></td>
                                                    <td>{{ doctor_detail.d_id }}</td>
                                                </tr>
                                                <tr>											
                                                    <td><strong>Adder</strong></td>
                                                    <td>{{ doctor_detail.d_add }}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Doctor name</strong></td>
                                                    <td>{{ doctor_detail.doctor_Name }}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Age</strong></td>
                                                    <td>{{ doctor_detail.age }}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Specialization</strong></td>
                                                    <td>{{ doctor_detail.specialization }}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Experience</strong> </td>
                                                    <td>{{ doctor_detail.experience }}</td>
                                                </tr>
                                                
                                                <tr>
                                                    <td><strong>Phone</strong></td>
                                                    <td>{{ doctor_detail.phone }}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Email</strong></td>
                                                    <td>{{ doctor_detail.email }}</td>
                                                </tr>
                                                <tr>
                                                    <td><strong>Gender</strong></td>
                                                    <td>{{ doctor_detail.gender }}</td>
                                                </tr>
                                                
                                                <tr>
                                                    <td><strong>Doctor details</strong></td>
                                                    <td>{{ doctor_detail.doctor_details }}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- Generate PDF Button -->
		<div class="text-right mb-4">
			<button onclick="generatePDF()" class="btn btn-primary">Generate PDF</button>
		</div>
		<!-- /Generate PDF Button -->
		<!-- PDF Generation Script -->
<script>
    function generatePDF() {
        // Print the current page as PDF
        window.print();
    }
</script>
                                    </div>
                                </div>
                            </div>
                
                        </div>
                    </div>
                    <!-- /Widget Item -->
                    <!-- Appointment Details -->
                    <div class="container mt-4">
                        <h3 class="widget-title">Appointments</h3>
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>Patient Name</th>
                                        <th>Patient ID</th>
                                        <th>Department</th>
                                        <th>Appointment Date</th>
                                        <th>Time Slot</th>
                                        <th>Token Number</th>
                                        <th>Problem</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for appoints in doctor_appointments %}
                                    {% if appoints.d_name == doctor_detail.doctor_Name %}
                                    <tr>
                                        <td>{{ appointment.p_name }}</td>
                                        <td>{{ appointment.pa_id }}</td>
                                        <td>{{ appointment.department }}</td>
                                        <td>{{ appointment.appointment_date }}</td>
                                        <td>{{ appointment.time_slot }}</td>
                                        <td>{{ appointment.token_number }}</td>
                                        <td>{{ appointment.problem }}</td>
                                        <td>{{ appointment.status }}</td>
                                    </tr>
                                    {% endif %}
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- /Appointment Details -->
                    {% endif %}

                    {% endfor %}
                    
                </div>
			</div>
			<!-- /Main Content -->
            

{% endblock %}