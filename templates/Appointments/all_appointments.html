{% extends 'base.html' %}
{% block content %}
<!-- /Menu -->
				<!-- Breadcrumb -->
				<!-- Page Title -->
				<div class="container mt-0">
					<div class="row breadcrumb-bar">
						<div class="col-md-6">
							<h3 class="block-title">Appointments</h3>
						</div>
						<div class="col-md-6">
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="/">
										<span class="ti-home"></span>
									</a>
								</li>
								<li class="breadcrumb-item">Appointments</li>
								<li class="breadcrumb-item active">Appointments List</li>
							</ol>
						</div>
					</div>
				</div>
			<!-- /Page Title -->

			<!-- /Breadcrumb -->
			<!-- Main Content -->
			<div class="container">

				<div class="row">
					<!-- Widget Item -->
					<div class="col-md-12">
						<div class="widget-area-2 proclinic-box-shadow">
							<h3 class="widget-title">Appointments List</h3>
							<main id="success-msg">
								{% for msg in  messages %}
								
								{{msg}}
								
								{% endfor %}
								</main>
								<br><br>
							<div class="table-responsive mb-3">
								<table id="tableId" class="table table-bordered table-striped">
									<thead>
										<tr>
											
											<th>Appointment_ID</th>
											<th>Token_Number</th>
											<!-- <th>Patient_ID</th> -->
											<th>Appointment_Adder</th>
											<th>Patient_name</th>
											<th>Appointment_Date</th>
											<!-- <th>Doctor_Name</th> -->
											<!-- <th>Time_Slot</th> -->
											<!-- <th>Department</th> -->
											<!-- <th>Problem</th> -->
											<th>Status</th>
											
											<th><strong>View</strong></th>
											<th><strong>Delete</strong></th>
											<th><strong>Edit</strong></th>
											
										</tr>
									</thead>
									<tbody id="data">
										{% for appoint_detail in appoint_detail %}
										<tr>
											<td>{{ appoint_detail.a_id }}</td>
											<td>{{ appoint_detail.token_number }}</td>
											<!-- <td>{{ appoint_detail.pa_id }}</td> -->
											<td>{{ appoint_detail.a_add }}</td>
											<td>{{ appoint_detail.p_name }}</td>
											<td>{{ appoint_detail.appointment_date }}</td>
											<!-- <td>{{ appoint_detail.d_name }}</td> -->
											<!-- <td>{{ appoint_detail.time_slot }}</td> -->
											<!-- <td>{{ appoint_detail.department }}</td> -->
											<!-- <td>{{ appoint_detail.problem }}</td> -->
											<td>
												<span class="badge badge-success">{{ appoint_detail.status }}</span>
											</td>
											{% if user.username == appoint_detail.a_add %}
											
											<td><a class="btn btn-info animate-on-hover" href="{% url 'a_about' id=appoint_detail.id %}"><span class="ti-eye"> Views</span></a></td>
											<td><a class="btn btn-danger animate-on-hover" href="{% url 'deleteapp' id=appoint_detail.id %}"><span class="ti-trash"> Delete</span></a></td>
											<td><a class="btn btn-success mb-2 animate-on-hover" href="{% url 'edit_appoint' id=appoint_detail.id %}"><span class="ti-pencil-alt"> Edit</span></a></td>
											{% else %}
											<td>❌</td>
											<td>❌</td>
									        <td>❌</td>
											{% endif %}
                                        </tr>
                                        
										{% endfor %}
									</tbody>
                                </table>
                                
<script>
function search() {
const searchTerm = document.getElementById("search_input").value.toLowerCase();
const tableBody = document.getElementById("data");
const tableRows = tableBody.querySelectorAll("tr");

// Clear previous results (optional)
tableBody.innerHTML = ""; 
									  // You can uncomment this line if you want to clear previous results before displaying new ones.

for (const row of tableRows) {
const textContent = row.textContent.toLowerCase();
if (textContent.includes(searchTerm)) {
tableBody.appendChild(row.cloneNode(true)); // Append matching rows
}
}
}
</script>
</div>
							
						</div>
					</div>
					<!-- /Widget Item -->
				</div>
			</div>
			<!-- /Main Content -->

{% endblock %}